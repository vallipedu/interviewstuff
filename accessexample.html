<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Package Access Demo</title>
</head>
<body style="font-family: Arial, sans-serif; line-height: 1.6;color: #333;">
    <pre>
Package Access Example
Classes and packages are both means of encapsulating and containing the
name space and scope of variables and methods. Packages act as containers for
classes and other subordinate packages. Classes act as containers for data and
code. The class is Java’s smallest unit of abstraction. As it relates to the
interplay between classes and packages, Java addresses four categories of
visibility for class members:
• Subclasses in the same package
• Non-subclasses in the same package
• Subclasses in different packages
• Classes that are neither in the same package nor subclasses
The three access modifiers, private, public, and protected, provide a
variety of ways to produce the many levels of access required by these
categories.

While	Java’s	access	control	mechanism	may	seem	complicated,	we	can
simplify	it	as	follows.	Anything	declared	public	can	be	accessed	from	different
classes	and	different	packages.
Anything	declared	private	cannot	be	seen
outside	of	its	class.	
        When	a	member	does	not	have	an	explicit	access
specification,	it	is	visible	to	subclasses	as	well	as	to	other	classes	in	the	same
package.	This	is	the	default	access.	
        If	you	want	to	allow	an	element	to	be	seen
outside	your	current	package,	but	only	to	classes	that	subclass	your	class
directly,	then	declare	that	element	protected.


 The	following	example	shows	all	combinations	of	the	access	control	modifiers.
This	example	has	two	packages	and	five	classes.	Remember	that	the	classes	for
the	two	different	packages	need	to	be	stored	in	directories	named	after	their
respective	packages—in	this	case,	p1	and	p2.
The	source	for	the	first	package	defines	three	classes:	Protection,	Derived,
and	SamePackage.	The	first	class	defines	four	int	variables	in	each	of	the	legal
protection	modes.	The	variable	n	is	declared	with	the	default	protection,	n_pri
is	private,	n_pro	is	protected,	and	n_pub	is	public.
        Each	subsequent	class	in	this	example	will	try	to	access	the	variables	in	an
instance	of	this	class.	The	lines	that	will	not	compile	due	to	access	restrictions.
        instance	of	this	class.	The	lines	that	will	not	compile	due	to	access	restrictions
are	commented	out.	Before	each	of	these	lines	is	a	comment	listing	the	places
from	which	this	level	of	protection	would	allow	access.
The	second	class,	Derived,	is	a	subclass	of	Protection	in	the	same	package,
p1.	This	grants	Derived	access	to	every	variable	in	Protection	except	for
n_pri,	the	private	one.	The	third	class,	SamePackage,	is	not	a	subclass	of
Protection,	but	is	in	the	same	package	and	also	has	access	to	all	but	n_pri.

        This	is	file	Protection.java:
------------------------------------
package org.edu.nbkrist.cse.protect;

public class Protection {   
    int n = 1;
    
    private int n_pri = 2;
    
    protected int n_pro = 3;
    
    public int n_pub = 4;
    
    public Protection() {
        System.out.println("base constructor");
        System.out.println("n = " + n);
        System.out.println("n_pri = " + n_pri);
        System.out.println("n_pro = " + n_pro);
        System.out.println("n_pub = " + n_pub);
    }
    
}
------------------------------------
package org.edu.nbkrist.cse.protect;

public class Derived extends Protection {
    public Derived() {
        System.out.println("derived constructor");
        System.out.println("n = " + n);
        // System.out.println("n_pri = " + n_pri); // private member, not accessible
        System.out.println("n_pro = " + n_pro);
        System.out.println("n_pub = " + n_pub);
    }
    
    public static void main(String[] args) {
        Derived derived = new Derived();
    }
    
}
------------------------------------

package org.edu.nbkrist.cse.protect;
/**
 * SamePackage class, not sub class, not sub-sub class.
 * Can access only public and default members of Protection class.
 * 
 */
public class SamePackage {
    public SamePackage() {
        Protection p = new Protection();
        System.out.println("n = " + p.n);
        // System.out.println("n_pri = " + p.n_pri); // private member, not accessible
         System.out.println("n_pro = " + p.n_pro); // protected member, not accessible
         System.out.println("n_pub = " + p.n_pub);
        

    }
     
}
------------------------------------
This is in another package,
since this subclass,can access protected members of Protection class
and public members.

-------------------------------------

package org.edu.nbkrist.cse.protect2;

import org.edu.nbkrist.cse.protect.*;

public class Protection2 extends Protection   {
    public Protection2() {
        System.out.println("Protection2 constructor");
    //class or package only
        //System.out.println("n = " + n); // default member, not accessible
        //System.out.println("n_pri = " + n_pri); // private member, not accessible
        System.out.println("n_pro = " + n_pro); // protected member, accessible as this is subclass
        System.out.println("n_pub = " + n_pub); // public member, accessible    
    }
   
}
------------------------------------
package org.edu.nbkrist.cse.protect2;

import org.edu.nbkrist.cse.protect.*;

/**
 * This class is in a different package.
 * therefore only public members of Protection class are accessible here.   
 * @author NBKrist
 * 
 */
public class OtherPackage {
    
    public OtherPackage() {
        System.out.println("OtherPackage constructor");
        //class or package only
        Protection p = new Protection();
        //class or package only
        //System.out.println("n = " + p.n); // default member, not accessible
       //class only
       //System.out.println("n_pri = " + p.n_pri); // private member, not accessible
        //klass,subclass or same package
        //System.out.println("n_pro = " + p.n_pro); // protected member, not accessible
        System.out.println("n_pub = " + p.n_pub); // public member, accessible    
    }
}
------------------------------------
This Tester class for all the above classes
------------------------------------

package org.edu.nbkrist.cse.main;
import org.edu.nbkrist.cse.protect.Derived;
import org.edu.nbkrist.cse.protect.Protection;
import org.edu.nbkrist.cse.protect.SamePackage;

public class ProtectionTest {
    public static void main(String[] args) {
        System.out.println("Testing Protection class");
        Protection p = new Protection();
        Derived d = new Derived();
        SamePackage sp = new SamePackage();
        // org.edu.nbkrist.cse.protect2.Pr op = new
        // org.edu.nbkrist.cse.protect2.OtherPackage();
        org.edu.nbkrist.cse.protect2.Protection2 p2 = new org.edu.nbkrist.cse.protect2.Protection2();
        org.edu.nbkrist.cse.protect2.OtherPackage op = new org.edu.nbkrist.cse.protect2.OtherPackage();
    }
}

    </pre>
</body>
</html>

